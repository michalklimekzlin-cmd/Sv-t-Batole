<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BatolesvÄ›t â€¢ Viri</title>
  <style>
    html,body{margin:0;height:100%;background:#000;color:#bff;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
    canvas{width:100%;height:100%;display:block}
    .btn{position:fixed;padding:6px 14px;border-radius:.6rem;border:1px solid #333;
         background:rgba(40,40,40,.85);color:#cbe;backdrop-filter:blur(8px) saturate(120%);
         font:600 14px system-ui,-apple-system,Segoe UI,Roboto;transition:.2s}
    .btn:active{transform:scale(.98)}
    #btnTopLeft{top:20px;left:20px}    #btnTopRight{top:20px;right:20px}
    #btnBottomLeft{bottom:20px;left:20px}
    #btnBottomRight{bottom:20px;right:20px}
    #worldLabel{position:fixed;left:0;right:0;bottom:12%;text-align:center;opacity:.9}
  </style>
</head>
<body>
  <!-- plÃ¡tno s orbem -->
  <canvas id="canvasVafi"></canvas>

  <!-- rohovÃ© ovladaÄe -->
  <button id="btnTopLeft" class="btn">BatolesvÄ›t</button>
  <button id="btnTopRight" class="btn">Glyph</button>
  <button id="btnBottomLeft" class="btn">Piko</button>
  <button id="btnBottomRight" class="btn">Ping Viri</button>

  <!-- popisek svÄ›ta -->
  <div id="worldLabel">SvÄ›t: Michal Klimek</div>

  <!-- cache-busting -->
  <script>
    window.V = (new Date()).toISOString().slice(0,19).replace(/[-:T]/g,'');
  </script>

  <!-- DuÅ¡e + Avatar (orb) -->
  <script type="module" src="./vafi.soul.js?v="+window.V></script>
  <script type="module" src="./config.js?v="+window.V></script>
  <script type="module" src="./state.core.js?v="+window.V></script>
  <script type="module" src="./avatar.vafi.js?v="+window.V></script>

  <!-- ðŸ§  PamÄ›Å¥ + Mantinely + Builder -->
<script type="module" src="./memory.core.js?v="+window.V></script>
<script type="module" src="./rules.guardrails.js?v="+window.V></script>
<script type="module" src="./world.builder.js?v="+window.V></script>

<!-- ðŸŒ€ Viri (Å¾ivÃ© jÃ¡dro propojenÃ© s pamÄ›tÃ­/builderem) -->
<script type="module" src="./viri.guardian.js?v="+window.V></script>

  <!-- MÃ­za (zÃ¡sobÃ¡rna) -->
  <script type="module" src="./miza.core.js?v="+window.V></script>

  <!-- Zvuk / Hlas (volitelnÃ©, mÅ¯Å¾e zÅ¯stat) -->
  <script type="module" src="./vafi.audio.js?v="+window.V></script>
  <script type="module" src="./voice.react.js?v="+window.V></script>

  <!-- SvÄ›t â€“ start scÃ©ny (pokud mÃ¡Å¡ world.batole.js, nech) -->
  <script type="module" src="./world.batole.js?v="+window.V></script>

  <!-- Aplikace -->
  <script type="module" src="./mk.core.js?v="+window.V></script>
  <script type="module" src="./app.js?v="+window.V></script>
  <script type="module" src="./notify.local.js?v="+window.V></script>

  <!-- malÃ© pÅ™ipojenÃ­ pro Ping Viri -->
  <script>
    document.getElementById('btnBottomRight')?.addEventListener('click', ()=>{
      const reply = window.Viri?.ping ? window.Viri.ping('ahoj') : null;
      alert('âœ… Ping poslÃ¡n Viri-mu!' + (reply? '\n\n' + reply : ''));
    });
  </script>
</body>
</html>