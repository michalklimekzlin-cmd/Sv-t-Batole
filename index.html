<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>Batolesvƒõt ‚Ä¢ Viri</title>

  <style>
    html,body {
      margin:0;
      height:100%;
      background:#000;
      color:#bff;
      font:16px/1.5 system-ui,-apple-system,sans-serif;
      overflow:hidden;
      user-select:none;
      -webkit-user-select:none;
    }
    canvas {
      width:100%;
      height:100%;
      display:block;
    }
    .btn {
      position:fixed;
      padding:6px 14px;
      border-radius:.6rem;
      border:1px solid #333;
      background:rgba(40,40,40,.8);
      color:#cbe;
      backdrop-filter:blur(8px) saturate(120%);
      font:600 14px system-ui,-apple-system,sans-serif;
      transition:.3s;
    }
    .btn:hover { background:rgba(80,80,80,.9); }
    #btnTopLeft    { top:20px; left:20px; }
    #btnTopRight   { top:20px; right:20px; }
    #btnBottomLeft { bottom:20px; left:20px; }
    #btnBottomRight{ bottom:20px; right:20px; }
    #worldLabel {
      position:fixed;
      bottom:80px;
      width:100%;
      text-align:center;
      font-weight:600;
      color:#aef;
    }
  </style>
</head>

<body>
  <canvas id="canvasVafi"></canvas>

  <div id="worldLabel">Svƒõt: Michal Klimek</div>
  <div id="btnTopLeft" class="btn">Batolesvƒõt</div>
  <div id="btnTopRight" class="btn">Glyph</div>
  <div id="btnBottomLeft" class="btn">Piko</div>
  <div id="btnBottomRight" class="btn">Orbit</div>

  <!-- üåä Verze pro cache-busting -->
  <script>
    window.V = (new Date()).toISOString().slice(0,19).replace(/[-:T]/g,'');
  </script>

  <!-- üíé Du≈°e + Avatar -->
  <script type="module" src="./vafi.soul.js?v="+window.V></script>
  <script type="module" src="./config.js?v="+window.V></script>
  <script type="module" src="./state.core.js?v="+window.V></script>
  <script type="module" src="./avatar.vafi.js?v="+window.V></script>
  <script type="module" src="./vafi.dreams.js?v="+window.V></script>

  <!-- üåÄ Viri (≈æiv√© j√°dro) -->
  <script type="module" src="./viri.guardian.js?v="+window.V></script>

  <!-- üåø M√≠za (z√°sob√°rna ≈æivota) -->
  <script type="module" src="./miza.core.js?v="+window.V></script>

  <!-- üîä Zvuk / Hlas -->
  <script type="module" src="./vafi.audio.js?v="+window.V></script>
  <script type="module" src="./voice.react.js?v="+window.V></script>

  <!-- üåç Svƒõt Batolesvƒõt (spou≈°tƒõƒç sc√©ny) -->
  <script type="module" src="./world.batolesvet.js?v="+window.V></script>

  <!-- ‚öôÔ∏è Aplikace -->
  <script type="module" src="./mk.core.js?v="+window.V></script>
  <script type="module" src="./app.js?v="+window.V></script>
  <script type="module" src="./notify.local.js?v="+window.V></script>
</body>
<!-- üß† TEST VIRI BUTTON -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const btn = document.createElement('button');
    btn.textContent = 'Ping Viri';
    btn.style.position = 'fixed';
    btn.style.bottom = '20px';
    btn.style.left = '50%';
    btn.style.transform = 'translateX(-50%)';
    btn.style.padding = '6px 16px';
    btn.style.borderRadius = '.5rem';
    btn.style.background = 'rgba(80,150,255,0.2)';
    btn.style.color = '#bff';
    btn.style.border = '1px solid #357';
    btn.style.font = '600 14px system-ui';
    btn.onclick = () => {
      if (window.Viri?.ping) {
        window.Viri.ping('≈æiju?');
        alert('‚úÖ Ping posl√°n Viri-mu!');
      } else {
        alert('‚ö†Ô∏è Viri zat√≠m nereaguje.');
      }
    };
    document.body.appendChild(btn);
  });
</script>
</html>